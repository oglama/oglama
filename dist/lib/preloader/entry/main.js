/*!
 * @architect Mark Jivko <mark@oglama.com>
 * @copyright Â© 2024-2025 Oglama (https://oglama.com)
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *     http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ce=Object.defineProperty;var q=n=>{throw TypeError(n)};var ue=(n,i,e)=>i in n?ce(n,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[i]=e;var c=(n,i)=>()=>(i||n((i={exports:{}}).exports,i),i.exports);var s=(n,i,e)=>ue(n,typeof i!="symbol"?i+"":i,e),x=(n,i,e)=>i.has(n)||q("Cannot "+e);var a=(n,i,e)=>(x(n,i,"read from private field"),e?e.call(n):i.get(n)),d=(n,i,e)=>i.has(n)?q("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(n):i.set(n,e),w=(n,i,e,t)=>(x(n,i,"write to private field"),t?t.call(n,e):i.set(n,e),e);var v=c((Re,W)=>{var m;W.exports=(m=class{static getSourceChannelName(i){return"".concat(m.WINDOW_SOURCE,"/").concat(i)}static getTargetChannelName(i){return"".concat(m.WINDOW_TARGET,"/").concat(i)}static generateKey(){return"".concat(Date.now().toString(36)).concat(Math.random().toString(36).substring(2,13))}},s(m,"WINDOW_MAIN_LOGIN","@main/login"),s(m,"WINDOW_MAIN","@main"),s(m,"WINDOW_SOURCE","@source"),s(m,"WINDOW_TARGET","@target"),m)});var g=c((je,E)=>{var{ipcRenderer:he}=require("electron"),P,C;E.exports=(C=class{constructor(){d(this,P,{})}_register(i){if(typeof i=="string")for(let e of Object.getOwnPropertyNames(this))["_","#"].includes(e[0])||typeof this[e]!="function"||(a(this,P)[e]="ipc:".concat(i,":").concat(e))}_runner(i,...e){let t=function(r,o,l){this.run=async function(){let p=null;if(typeof a(r,P)[o]=="string"&&(p=await he.invoke(a(r,P)[o],...l)),p instanceof Error)throw new Error("".concat(a(r,P)[o]," ").concat(p.message??p));return p}};return new t(this,i,e)}async _promise(i,...e){return await this._runner(i,...e).run()}},P=new WeakMap,C)});var M=c((Qe,F)=>{var _e=g();F.exports=class extends _e{constructor(){super();s(this,"openAgentFiles",e=>this._promise("openAgentFiles",e));s(this,"purge",e=>this._promise("purge",e));s(this,"runInit",(e,t=null,r=null,o=null)=>this._promise("runInit",e,t,r,o));s(this,"runDelete",(e,t)=>this._promise("runDelete",e,t));s(this,"envGet",e=>this._promise("envGet",e));s(this,"envSet",(e,t)=>this._promise("envSet",e,t));s(this,"sourceGet",e=>this._promise("sourceGet",e));s(this,"sourceSet",(e,t)=>this._promise("sourceSet",e,t));s(this,"inputsGet",(e,t="session",r=null)=>this._promise("inputsGet",e,t,r));s(this,"inputScalarsSet",(e,t,r=null)=>this._promise("inputScalarsSet",e,t,r));s(this,"inputFilesAdd",(e,t,r,o=null)=>this._promise("inputFilesAdd",e,t,r,o));s(this,"inputFilesDelete",(e,t,r,o=null)=>this._promise("inputFilesDelete",e,t,r,o));s(this,"inputTableQuery",(e,t,r=1,o=5e3,l=null)=>this._promise("inputTableQuery",e,t,r,o,l));s(this,"inputTableAdd",(e,t,r=[],o=null)=>this._promise("inputTableAdd",e,t,r,o));s(this,"inputTableGet",(e,t,r,o="session",l=null)=>this._promise("inputTableGet",e,t,r,o,l));s(this,"inputTableUpdate",(e,t,r,o,l=null)=>this._promise("inputTableUpdate",e,t,r,o,l));s(this,"inputTableDelete",(e,t,r=null,o=null)=>this._promise("inputTableDelete",e,t,r,o));s(this,"outputTableQuery",(e,t,r,o=1,l=5e3)=>this._promise("outputTableQuery",e,t,r,o,l));s(this,"outputTableAdd",(e,t,r,o)=>this._promise("outputTableAdd",e,t,r,o));s(this,"outputsGet",(e,t)=>this._promise("outputsGet",e,t));s(this,"outputsQuery",(e,t,r=null,o=null,l=null)=>this._promise("outputsQuery",e,t,r,o,l));s(this,"outputScalarSet",async(e,t,r,o)=>this._promise("outputScalarSet",e,t,r,o));s(this,"outputFilesInit",async(e,t,r,o=null)=>this._promise("outputFilesInit",e,t,r,o));s(this,"outputFilesAppend",async(e,t,r,o,l=null)=>this._promise("outputFilesAppend",e,t,r,o,l));s(this,"outputFilesDelete",async(e,t,r)=>this._promise("outputFilesDelete",e,t,r));this._register("diskStorage")}}});var R=c((Je,G)=>{var de=g();G.exports=class extends de{constructor(){super();s(this,"getAt",(e,t)=>this._promise("getAt",e,t));s(this,"create",(e,t,r)=>this._promise("create",e,t,r));s(this,"readAll",(e,t)=>this._promise("readAll",e,t));s(this,"read",(e,t)=>this._promise("read",e,t));s(this,"updateName",(e,t,r)=>this._promise("updateName",e,t,r));s(this,"updateInfo",(e,t,r)=>this._promise("updateInfo",e,t,r));s(this,"updateReady",(e,t,r)=>this._promise("updateReady",e,t,r));s(this,"updateEnabled",(e,t,r)=>this._promise("updateEnabled",e,t,r));s(this,"delete",(e,t=null,r=null)=>this._promise("delete",e,t,r));this._register("session")}}});var L=c((Ye,U)=>{var me=g();U.exports=class extends me{constructor(){super();s(this,"install",()=>this._promise("install"));s(this,"check",()=>this._promise("check"));this._register("updater")}}});var B=c((tt,j)=>{var ge=g();j.exports=class extends ge{constructor(){super();s(this,"getOS",()=>this._promise("getOS"));s(this,"getName",()=>this._promise("getName"));s(this,"getUUID",()=>this._promise("getUUID"));s(this,"getSerialNumber",()=>this._promise("getSerialNumber"));s(this,"getRam",()=>this._promise("getRam"));s(this,"getCpuArch",()=>this._promise("getCpuArch"));s(this,"getCpuName",()=>this._promise("getCpuName"));s(this,"setPostAuth",e=>this._promise("setPostAuth",!!e));s(this,"getPostAuth",()=>this._promise("getPostAuth"));s(this,"showFileInFolder",e=>this._promise("showFileInFolder",e));s(this,"request",(e,t="GET",r={},o={},l=!0,p=60,f=!0)=>this._promise("request",e,t,r,o,l,p,f));this._register("device")}}});var Q=c((it,H)=>{var fe=g();H.exports=class extends fe{constructor(){super();s(this,"list",()=>this._promise("list"));s(this,"closeAll",()=>this._promise("closeAll"));s(this,"open",e=>this._promise("open",e));s(this,"close",e=>this._promise("close",e));s(this,"webContents",(e,t,r)=>this._promise("webContents",e,t,r));this._register("source")}}});var V=c((lt,K)=>{var ye=g();K.exports=class extends ye{constructor(){super();s(this,"list",()=>this._promise("list"));s(this,"removeAll",()=>this._promise("removeAll"));s(this,"add",(e,t,r=!1)=>this._promise("add",e,t,r));s(this,"remove",e=>this._promise("remove",e));s(this,"select",e=>this._promise("select",e));s(this,"getSelected",()=>this._promise("getSelected"));s(this,"setControlled",(e,t=!0)=>this._promise("setControlled",e,t));s(this,"openDevTools",(e,t=null)=>this._promise("openDevTools",e,t));s(this,"getBounds",e=>this._promise("getBounds",e));s(this,"mouse",(e,t,r,o=null,l=!1,p=[])=>this._promise("mouse",e,t,r,o,l,p));s(this,"typeAt",(e,t,r,o,l=!1,p=5)=>this._promise("typeAt",e,t,r,o,l,p));s(this,"loadUrl",(e,t)=>this._promise("loadUrl",e,t));s(this,"getUrl",e=>this._promise("getUrl",e));s(this,"getTitle",e=>this._promise("getTitle",e));s(this,"reload",(e,t=!1)=>this._promise("reload",e,t));s(this,"goHome",e=>this._promise("goHome",e));s(this,"goBack",e=>this._promise("goBack",e));s(this,"goForward",e=>this._promise("goForward",e));s(this,"setFileInput",(e,t,r)=>this._promise("setFileInput",e,t,r));s(this,"openInNewWindow",(e,t)=>this._promise("openInNewWindow",e,t));s(this,"waitForDomReady",(e,t=30)=>this._promise("waitForDomReady",e,t));s(this,"saveDownload",(e,t,r,o=600,l=null)=>this._promise("saveDownload",e,t,r,o,l));s(this,"saveScreenshot",(e,t,r,o=null)=>this._promise("saveScreenshot",e,t,r,o));s(this,"getScreenshotData",(e,t=null,r=null)=>this._promise("getScreenshotData",e,t,r));s(this,"webContents",(e,t,r=[],o=null,l=[])=>this._promise("webContents",e,t,r,o,l));s(this,"sendKeys",(e,t,r={})=>this._promise("sendKeys",e,t,r));this._register("target")}}});var z=c((ct,J)=>{var Ie=g();J.exports=class extends Ie{constructor(){super();s(this,"openExternal",e=>this._promise("openExternal","".concat(e)));this._register("main/login")}}});var Y=c((_t,X)=>{var we=g(),Pe=z();X.exports=class extends we{constructor(){super();s(this,"login",null);s(this,"focus",()=>this._promise("focus"));s(this,"setOnTop",(e=!0)=>this._promise("setOnTop",!!e));s(this,"getOnTop",()=>this._promise("getOnTop"));s(this,"setDarkMode",e=>this._promise("setDarkMode",!!e));s(this,"getDarkMode",()=>this._promise("getDarkMode"));s(this,"getProcessVersions",()=>this._promise("getProcessVersions"));s(this,"quit",()=>this._promise("quit"));s(this,"openExternal",e=>this._promise("openExternal","".concat(e)));s(this,"showOpenDialog",(e,t=[],r=!1)=>this._promise("showOpenDialog",e,t,r));this._register("main"),this.login=new Pe}}});var ee=c((gt,Z)=>{var be=g();Z.exports=class extends be{constructor(){super();s(this,"install",e=>this._promise("install",e));s(this,"getPort",()=>this._promise("getPort"));this._register("llm")}}});var A=c((It,se)=>{var{ipcRenderer:k,contextBridge:Ne}=require("electron"),Se=M(),Te=R(),Oe=L(),De=B(),ve=Q(),ke=V(),Ae=Y(),$e=ee(),I=v(),_,N,u,S,te;se.exports=(te=class{constructor(i,e=!0){d(this,_,"");d(this,N,{});d(this,u,{});d(this,S,{});s(this,"source",{send:(i,e,t)=>{this.send(I.getSourceChannelName(i),e,t)},invoke:async(i,e,t,r=0)=>await this.invoke(I.getSourceChannelName(i),e,t,r)});s(this,"target",{send:(i,e,t)=>{(async()=>this.send(I.getTargetChannelName(i),e,t))()},invoke:async(i,e,t,r=0)=>await this.invoke(I.getTargetChannelName(i),e,t,r)});let t=this;w(this,_,i),w(this,S,{ibc:{handle:(...r)=>this.handle.call(this,...r),send:(...r)=>this.send.call(this,...r),invoke:async(...r)=>await this.invoke.call(this,...r),source:{send:(...r)=>this.source.send.call(this,...r),invoke:async(...r)=>await this.source.invoke.call(this,...r)},target:{send:(...r)=>this.target.send.call(this,...r),invoke:async(...r)=>await this.target.invoke.call(this,...r)},winName:a(this,_)},ipc:{diskStorage:new Se,session:new Te,updater:new Oe,device:new De,source:new ve,target:new ke,main:new Ae,llm:new $e},devMode:!1}),k.on(a(this,_),(r,o)=>{if(o[0]==="ibc-target:cancel-promises"&&typeof o[1]=="string"){for(let h of Object.keys(a(this,u)))if(a(this,u)[h].toWinName===I.getTargetChannelName(o[1])){try{typeof o[2]=="string"?a(this,u)[h].reject(new Error(o[2])):a(this,u)[h].resolve(null)}catch{}delete a(t,u)[h]}return}if(o.length<3)return;let[l,p,f]=o,{type:O,fromWin:$,promiseId:D}=f??{};if(O==="req")(async()=>{let h=null;try{if(typeof l!="string"||typeof a(t,N)[l]!="function")throw new Error('Inter-Browser Communication: handle "'.concat(l,'" not declared yet'));Array.isArray(p)||(p=[]),h=await a(t,N)[l](...p)}catch(y){let pe=a(t,_).indexOf(I.WINDOW_TARGET)===0?"ibc.target.invoke":a(t,_).indexOf(I.WINDOW_SOURCE)===0?"ibc.source.invoke":a(t,_);h=new Error("".concat(pe,"(").concat(JSON.stringify(l),") ").concat(y.message??y)),a(t,_).indexOf(I.WINDOW_TARGET)===0&&console.warn("".concat(l,"() ").concat(y.message??y))}typeof $=="string"&&typeof D=="string"&&k.send($,l,h,{type:"res",promiseId:D})})();else{let h=typeof D=="string"?"".concat(l,":").concat(D):null;if(h!==null){let y=a(t,u)[h]??null;y!==null&&(p instanceof Error?y.reject(p):y.resolve(p),delete a(t,u)[h])}}}),e&&Ne.exposeInMainWorld("sdk",a(this,S))}getSdk(){return a(this,S)}handle(i,e){typeof i=="string"&&typeof e=="function"&&(a(this,N)[i]=e)}send(i,e,t){do{if(typeof i!="string"||typeof e!="string")break;Array.isArray(t)||(t=[]),k.send(i,e,t,{type:"req",fromWin:a(this,_)})}while(!1)}async invoke(i,e,t,r=0){let o=this;if(typeof i!="string"||typeof e!="string")return null;Array.isArray(t)||(t=[]),r=parseInt(r,10),(!Number.isInteger(r)||r<0)&&(r=0);let l=I.generateKey(),p=new Promise((f,O)=>{a(this,u)["".concat(e,":").concat(l)]={resolve:f,reject:O,toWinName:i}});return r>0&&setTimeout(()=>{let f=typeof l=="string"?"".concat(e,":").concat(l):null;if(typeof a(o,u)[f]<"u"){try{a(o,u)[f].reject(new Error("".concat(e,"() timed out")))}catch{}delete a(o,u)[f]}},r*1e3),k.send(i,e,t,{type:"req",fromWin:a(this,_),promiseId:l}),p}},_=new WeakMap,N=new WeakMap,u=new WeakMap,S=new WeakMap,te)});var oe=c((bt,ie)=>{var qe=v(),xe=A(),T,re;ie.exports=(re=class{constructor(){d(this,T);w(this,T,new xe(qe.WINDOW_MAIN_LOGIN).getSdk());for(let i of Object.getOwnPropertyNames(this))typeof this[i]=="function"&&a(this,T).ibc.handle(i,this[i])}},T=new WeakMap,re)});var ae=c((Tt,le)=>{var We=v(),Ce=A(),b,ne;le.exports=(ne=class{constructor(){d(this,b);s(this,"getOnTop",async()=>await a(this,b).ipc.main.getOnTop());s(this,"setOnTop",async(i=!0)=>await a(this,b).ipc.main.setOnTop(i));w(this,b,new Ce(We.WINDOW_MAIN).getSdk());for(let i of Object.getOwnPropertyNames(this))typeof this[i]=="function"&&a(this,b).ibc.handle(i,this[i])}},b=new WeakMap,ne)});var Ee=oe(),Fe=ae(),Me=process.argv.filter(n=>n.indexOf("--win-type=")>=0).shift();switch("".concat(Me).split("=")[1]){case"main/login":new Ee;break;default:new Fe}
